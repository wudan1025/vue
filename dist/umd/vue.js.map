{"version":3,"file":"vue.js","sources":["../../src/state.js","../../src/init.js","../../src/index.js"],"sourcesContent":["export function initState(vm) { // vm.$options\n    const opts = vm.$options;\n    if (opts.props) {\n        initProps(vm);\n    }\n    if (opts.methods) {\n        initMethods(vm);\n    }\n    if (opts.data) {\n        initData(vm);\n    }\n    if (opts.computed) {\n        initComputed(vm);\n    }\n    if (opts.watch) {\n        initWatch(vm);\n    }\n}\n\nfunction initProps() { }\nfunction initMethods() { }\n\nfunction initData(vm) { // 数据的初始化操作\n    let data = vm.$options.data;\n    vm._data = data = typeof data == 'function' ? data.call(vm) : data;\n    // // 数据的劫持方案 对象Object.defineProperty\n    // // 数组 单独处理的\n\n    // // 当我去vm上取属性时 ，帮我将属性的取值代理到vm._data上\n    // for (let key in data) {\n    //     proxy(vm, '_data', key);\n    // }\n    observe(data);\n\n}\nfunction initComputed() { }\nfunction initWatch() { }","import { initState } from \"./state\";\n\nexport function initMixin(Vue) {\n    Vue.prototype._init = () => {\n        // this 指向 new 出来的实例\n        const vm = this;\n        vm.$options = options;\n        initState(vm);\n    }\n}","import { initMixin } from './init'\n\n\nfunction Vue(options) {\n    this._init(options)\n}\n\n// 写成插件对原型进行扩展\ninitMixin(Vue)\n\nexport default Vue"],"names":["initState","vm","opts","$options","props","methods","data","initData","computed","watch","_data","call","observe","initMixin","Vue","prototype","_init","options"],"mappings":";;;;;;IAAO,SAASA,SAAT,CAAmBC,EAAnB,EAAuB;IAAE;IAC5B,MAAMC,IAAI,GAAGD,EAAE,CAACE,QAAhB;;IACA,MAAID,IAAI,CAACE,KAAT,EAAgB;;IAGhB,MAAIF,IAAI,CAACG,OAAT,EAAkB;;IAGlB,MAAIH,IAAI,CAACI,IAAT,EAAe;IACXC,IAAAA,QAAQ,CAACN,EAAD,CAAR;IACH;;IACD,MAAIC,IAAI,CAACM,QAAT,EAAmB;;IAGnB,MAAIN,IAAI,CAACO,KAAT,EAAgB;IAGnB;;IAKD,SAASF,QAAT,CAAkBN,EAAlB,EAAsB;IAAE;IACpB,MAAIK,IAAI,GAAGL,EAAE,CAACE,QAAH,CAAYG,IAAvB;IACAL,EAAAA,EAAE,CAACS,KAAH,GAAWJ,IAAI,GAAG,OAAOA,IAAP,IAAe,UAAf,GAA4BA,IAAI,CAACK,IAAL,CAAUV,EAAV,CAA5B,GAA4CK,IAA9D,CAFkB;IAIlB;IAEA;IACA;IACA;IACA;;IACAM,EAAAA,OAAO,CAACN,IAAD,CAAP;IAEH;;IChCM,SAASO,SAAT,CAAmBC,GAAnB,EAAwB;IAAA;;IAC3BA,EAAAA,GAAG,CAACC,SAAJ,CAAcC,KAAd,GAAsB,YAAM;IACxB;IACA,QAAMf,EAAE,GAAG,KAAX;IACAA,IAAAA,EAAE,CAACE,QAAH,GAAcc,OAAd;IACAjB,IAAAA,SAAS,CAACC,EAAD,CAAT;IACH,GALD;IAMH;;ICND,SAASa,GAAT,CAAaG,OAAb,EAAsB;IAClB,OAAKD,KAAL,CAAWC,OAAX;IACH;;;IAGDJ,SAAS,CAACC,GAAD,CAAT;;;;;;;;"}